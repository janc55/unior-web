---
import { Image } from "astro:assets";

interface NewsItem {
    id: number;
    category: "Noticia" | "Eventos";
    title: string;
    description: string;
    image: string;
    link: string;
    date: string;
}

const newsItems: NewsItem[] = [
    {
        id: 1,
        category: "Noticia",
        title: "UNIOR celebra su 25° aniversario con ceremonia especial",
        description: "La Universidad Privada de Oruro celebró sus 25 años...",
        image: "/image1.jpeg",
        link: "/noticias/25-aniversario",
        date: "2024-02-15",
    },
    {
        id: 2,
        category: "Eventos",
        title: "Feria de Innovación Tecnológica 2024",
        description: "Estudiantes de diferentes carreras presentaron sus proyectos...",
        image: "/image2.jpeg",
        link: "/eventos/feria-tecnologia-2024",
        date: "2024-02-10",
    },
    {
        id: 3,
        category: "Eventos",
        title: "Seminario Internacional de Ingeniería",
        description: "Expertos internacionales compartieron conocimientos...",
        image: "/image3.jpeg",
        link: "/eventos/seminario-ingenieria",
        date: "2024-02-05",
    },
    {
        id: 4,
        category: "Eventos",
        title: "Conferencia de Tecnologías Emergentes",
        description: "Líderes de la industria presentaron tendencias en IA...",
        image: "/placeholder.svg",
        link: "/eventos/conferencia-tecnologias-emergentes",
        date: "2024-03-15",
    },
    {
        id: 5,
        category: "Noticia",
        title: "UNIOR firma convenio con empresa líder en tecnología",
        description: "La universidad establece una alianza estratégica...",
        image: "/placeholder.svg",
        link: "/noticias/convenio-empresa-tecnologia",
        date: "2024-03-01",
    },
];
---

<section id="noticias-eventos" class="py-16 bg-gray-50">
  <div class="container max-w-7xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-primary-light">Noticias y Eventos</h2>
      <p class="text-xl text-accent-light">
        No te pierdas las últimas actualizaciones sobre la universidad
      </p>
    </div>

    <div class="relative">
      <!-- Carrusel -->
      <div
        class="carousel flex transition-transform duration-500 ease-in-out"
        data-loop="true"
        data-items={JSON.stringify(newsItems)}
      >
        {newsItems.map((item) => (
          <div class="carousel-item w-full flex-none px-4 md:w-1/2 lg:w-1/3">
            <article class="overflow-hidden rounded-2xl bg-white shadow-lg hover:shadow-2xl">
              <Image
                src={item.image}
                alt={item.title}
                width={600}
                height={400}
                class="h-48 w-full object-cover"
              />
              <div class="p-6">
                <span
                  class={`inline-block mb-2 px-3 py-1 rounded-full text-sm font-semibold ${
                    item.category === "Noticia"
                      ? "bg-primary text-white"
                      : "bg-primary-light text-black"
                  }`}
                >
                  {item.category}
                </span>
                <h3 class="text-xl font-bold text-text-light">{item.title}</h3>
                <p class="text-gray-500">{item.description}</p>
                <div class="flex justify-between items-center mt-4">
                  <time
                    class="text-sm text-gray-400"
                    datetime={item.date}
                  >
                    {new Date(item.date).toLocaleDateString("es-ES", {
                      year: "numeric",
                      month: "long",
                      day: "numeric",
                    })}
                  </time>
                  <a
                    href={item.link}
                    class="text-primary-light hover:underline"
                  >
                    Ver más
                  </a>
                </div>
              </div>
            </article>
          </div>
        ))}
      </div>

      <!-- Botones de navegación -->
      <button
        class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full shadow-lg p-2 z-10 prev-btn"
        aria-label="Anterior"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
      <button
        class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full shadow-lg p-2 z-10 next-btn"
        aria-label="Siguiente"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- Incluir el archivo JavaScript -->
<script>
    import '/src/utils/carousel.js';
</script>