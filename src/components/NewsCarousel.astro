---
import { Image } from "astro:assets";

interface NewsItem {
    id: number;
    category: "Noticia" | "Eventos";
    title: string;
    description: string;
    image: string;
    link: string;
    date: string;
}

const newsItems: NewsItem[] = [
{
        "id": 1,
        "category": "Noticia",
        "title": "U.E. María Quiroz secundaria logró el primer lugar en el Festival de Teatro organizado por la UNIOR",
        "description": "El Festival 'Teatro Joven: Voces del Futuro' brindó a estudiantes una plataforma para expresar temas sociales relevantes. El tema ganador, 'The Dolls', abordó la salud mental.",
        "image": "/noticias/teatro_uemariaquiroz.jpg",
        "link": "/noticias/festival-teatro-2024",
        "date": "2024-11-19"
    },
    {
        "id": 2,
        "category": "Noticia",
        "title": "La UNIOR apoya a olimpista de matemáticas",
        "description": "Andrea Cruz del colegio Santa María Magdalena representará a Oruro en la 4ta. Olimpiada Panamericana Femenina de Matemática en México, con apoyo de la UNIOR.",
        "image": "/noticias/andrea_cruz_olimpiada.jpg",
        "link": "/noticias/apoyo-olimpiada-matematicas",
        "date": "2024-11-22"
    },
    {
        "id": 3,
        "category": "Eventos",
        "title": "Estudiantes de Enfermería participan en la Semana Mundial de Concientización sobre Antimicrobianos",
        "description": "En una feria educativa, los estudiantes de UNIOR presentaron juegos y paneles informativos sobre resistencia a los antibióticos y automedicación.",
        "image": "/noticias/antimicrobianos.jpg",
        "link": "/eventos/semana-antimicrobianos",
        "date": "2024-11-19"
    },
    {
        "id": 4,
        "category": "Eventos",
        "title": "Clase Espejo sobre dolor torácico entre UNIOR y UCEBOL",
        "description": "Docentes y estudiantes de ambas universidades compartieron conocimientos en semiología del dolor torácico con expertos como el Dr. Daniel Pacheco y Dr. Alan Garrido.",
        "image": "/noticias/clase_espejo_medicina.jpg",
        "link": "/eventos/clase-espejo-2024",
        "date": "2024-11-15"
    },
    {
        "id": 5,
        "category": "Noticia",
        "title": "Revelan datos históricos sobre la Fundación de Oruro en conversatorio",
        "description": "Investigadores destacaron aspectos culturales, sociales y políticos en la historia de Oruro en un evento organizado por UNIOR y la Sociedad de Historia y Geografía.",
        "image": "/noticias/conversatorio_historia_oruro.jpg",
        "link": "/noticias/fundacion-oruro",
        "date": "2024-11-12"
    },
    {
        "id": 6,
        "category": "Eventos",
        "title": "Ganadores del Concurso de Pintura de UNIOR reciben premios y becas",
        "description": "En la XIX versión del concurso, estudiantes plasmaron la Plaza '9 de abril', destacando creatividad y talento artístico en un acto de premiación especial.",
        "image": "/noticias/concurso_pintura.jpg",
        "link": "/eventos/concurso-pintura",
        "date": "2024-11-12"
    },
];
---

<section id="noticias-eventos" class="py-16 bg-gray-50">
  <div class="container max-w-7xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-primary-light">Noticias y Eventos</h2>
      <p class="text-xl text-accent-light">
        No te pierdas las últimas actualizaciones sobre la universidad
      </p>
    </div>

    <div class="relative">
      <!-- Carrusel -->
      <div
        class="carousel flex transition-transform duration-500 ease-in-out"
        data-loop="true"
        data-items={JSON.stringify(newsItems)}
      >
        {newsItems.map((item) => (
          <div class="carousel-item w-full flex-none px-4 md:w-1/2 lg:w-1/3">
            <article class="overflow-hidden rounded-2xl bg-white shadow-lg hover:shadow-2xl">
              <Image
                src={item.image}
                alt={item.title}
                width={600}
                height={400}
                class="h-48 w-full object-cover"
              />
              <div class="p-6">
                <span
                  class={`inline-block mb-2 px-3 py-1 rounded-full text-sm font-semibold ${
                    item.category === "Noticia"
                      ? "bg-primary text-white"
                      : "bg-primary-light text-black"
                  }`}
                >
                  {item.category}
                </span>
                <h3 class="text-xl font-bold text-text-light">{item.title}</h3>
                <p class="text-gray-500">{item.description}</p>
                <div class="flex justify-between items-center mt-4">
                  <time
                    class="text-sm text-gray-400"
                    datetime={item.date}
                  >
                    {new Date(item.date).toLocaleDateString("es-ES", {
                      year: "numeric",
                      month: "long",
                      day: "numeric",
                    })}
                  </time>
                  <a
                    href={item.link}
                    class="text-primary-light hover:underline"
                  >
                    Ver más
                  </a>
                </div>
              </div>
            </article>
          </div>
        ))}
      </div>

      <!-- Botones de navegación -->
      <button
        class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full shadow-lg p-2 z-10 prev-btn"
        aria-label="Anterior"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
      <button
        class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white rounded-full shadow-lg p-2 z-10 next-btn"
        aria-label="Siguiente"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M9 5l7 7-7 7" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- Incluir el archivo JavaScript -->
<script>
    import '/src/utils/carousel.js';
</script>